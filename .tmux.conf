# prefix setting (screen-like)
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# reload config file
bind r source-file ~/.tmux.conf \; display ".tmux.conf reloaded!"

bind-key C-a last-window

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# "|" splits the current window vertically, and "-" splits it horizontally
unbind %
bind | split-window -h
bind - split-window -v

bind -r n next-window 
bind -r p previous-window

# make delay shorter
set -sg escape-time 0

# Pane navigation (vim-like)
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Pane resizing
bind -r Left  resize-pane -L 4
bind -r Down  resize-pane -D 4
bind -r Up    resize-pane -U 4
bind -r Right resize-pane -R 4

# display things 
set -g default-terminal "xterm-256color"
#set -ga terminal-overrides ",*256col*:Tc"

if-shell -b '[ "$(echo "$TMUX_VERSION < 3.3" | bc)" = 1 ]' {
        setw -g window-status-current-bg white
        setw -g window-status-current-fg black
}

if-shell -b '[ "$(echo "$TMUX_VERSION >= 3.3" | bc)" = 1 ]' {
        setw -g window-status-current-style fg=black,bg=white
}

# history size
set -g history-limit 10000

#### copy mode : vim ####
# set vi mode for copy mode
setw -g mode-keys vi

# Toggle mouse on
bind m \
    set -g mouse on \;\
    display 'Mouse: ON'
#    set -g mouse-resize-pane on \;\
#    set -g mouse-select-pane on \;\
#    set -g mouse-select-window on \;\
 
# Toggle mouse off
bind M \
    set -g mouse off \;\
    display 'Mouse: OFF'
#    set -g mouse-resize-pane off \;\
#    set -g mouse-select-pane off \;\
#    set -g mouse-select-window off \;\

# copy mode using 'Esc'
#unbind [
#bind Escape copy-mode

# tmux-logging
run-shell ~/.tmux-logging/logging.tmux
set -g @logging-path $HOME/tmux_log
